# Testing

I love my testing...

## Testing Strategies

### Standard Testing

_I want to verify that given certain conditions, a piece of functionality acts as expected._

### Unit testing

_I want to verify that given very controlled, specific conditions, that a unit of functionality acts as expected.  To
achieve this, all inputs, actors and resources in the system, aside from the unit being tested are mocked._

Unit testing is the quickest way to find out if the fundamental units of your program are functioning as expected.  They
are quick to run and serve as easy to read functionality documentation for the system. I attempt to unit test everything,
as heavily as possible.  Though I insist on them being:-

 - Small as possible
 - Easy to read
 - Fast as possible
 - Self contained where possible

 This means we can casually run unit tests quickly to verify changes aren't having some unforeseen effect somewhere else
 in the system and if we want to know how something works, a minute or two on it's tests should give us all the
 information we need.

### Data-Driven Testing

_I want to verify a piece of functionality acts as expected across a table of inputs, outputs and expected results._

Under standard unit testing this would be multiple tests; i.e. "I want to verify that `add()` given 1 and 2 as arguments
results in three" would be one standard unit test (called `testStandardAddition()`), adding 3 and 0 would be another
unit test (titled `testIdentityValue()`) but in Data-Driven testing this would be one test with a table

| inputA | inputB  | expectedResult  |
| ------ |:-------:| ---------------:|
| 1      | 2       | 3               |
| 3      | 0       | 3               |

this allows flexibility in adding and removing values and can allow for much tidier tests.

### Property Based testing

_I want to verify that a piece of functionality acts as expected when provided with any values in a given range._

This is like data driven testing where the data is randomly generated by the framework.   This can be controversial in
testing (especially unit testing) as the same test run twice could have different pass/fail results.  It does allow us
to check data that we haven't thought of.
In order to make tests repeatable & more useful, Property Based testing frameworks usually do two things:-

 1. They generate seed (used to generate the random test data) per test, so that it can be run again with the same data
 2. They provide "shrinkage" which is when failing test data is found, the framework will run additional tests and try
    find a smaller set of values in which the test fails to aid in debugging the issue

### Theory Testing

_I want to verify that a piece of functionality works across all possible uses of a given set of data points_

We have tests, which are theories i.e. identity property of addition ('addition of any number + 0 is the original
number').  Then we have sample data and the test will be run against each of these.  The focus here is in how the test
is described.  We say given certain conditions, the expected behaviour should be x and the Theory Testing suite should
use test data to run combinatorial testing of that theory.
This is very useful where Data Driven tests would be


### Mutation Testing

_I want to verify that if something goes wrong in my code, that my tests will discover this error_

In essence, Mutation Testing is automated unit testing for your unit tests.  If I write bad code, I expect my unit tests
to catch it but what if I write bad unit tests?

Mutation testing will take your passing test and "mutate" the code being tested.  For example, replacing `>=` with `<=`
and running the test again.  If the test catches this issue (fails) then the mutation is "killed" and your test passes a
test.  If the test doesn't fail with the mutation, the mutation "survives" and it's an indication of you not testing the
piece of mutated code comprehensively enough.

### Integration Testing

This is making sure one or more units work together when tested.  They are longer running and ideally there are less of
them and there are more steps in order to test ongoing state.